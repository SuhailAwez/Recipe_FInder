<<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Finder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header>
        <h1>Recipe Finder</h1>
    </header>
    <main>
        <div class="links">
            <a href="{{ url_for('random_recipe') }}">Random Recipe</a>
            <a href="{{ url_for('categories') }}">Categories</a>
        </div>
        <form class="search-form" action="/search" method="get">
            <input type="text" name="query" value="{{ query }}" placeholder="Search for recipes...">
            <button type="submit">Search</button>
        </form>
        
        {% if meals %}
            <ul class="recipe-list">
                {% for meal in meals %}
                    <li>
                        <h2>{{ meal['strMeal'] }}</h2>
                        <img src="{{ meal['strMealThumb'] }}" alt="{{ meal['strMeal'] }}">
                        <p>{{ meal['strInstructions'] }}</p>
                    </li>
                {% endfor %}
            </ul>
            <div class="pagination">
                <a href="/search?query={{ query }}&page={{ page - 1 }}" 
                   class="{% if page == 1 %}disabled{% endif %}">Previous</a>
                <a href="/search?query={{ query }}&page={{ page + 1 }}" 
                   class="{% if page == num_pages %}disabled{% endif %}">Next</a>
            </div>
        {% else %}
            <p class="error-message">No results found for "{{ query }}"</p>
        {% endif %}
    </main>
</body>
</html>
